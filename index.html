<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link data-rh="true" rel="icon" href="./images/logo-obl.png">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="./css/styles.css" rel="stylesheet">
    <title>Celestia PFB - Openbitlab</title>
</head>
<body class="container py-5">
    <h1 class="mb-5 d-flex justify-content-between">
    <img src="images/logo.svg"></img><span></span><span></span><span style="font-size: 50%;">Wallet balance: <span id="balance">0</span> TIA</span></h1>
    <div class="row">
        <div class="col-md-6">
            <h2>Submit</h2>
            <form id="submit-form" class="mb-5">
                <div class="mb-3">
                  <label for="namespace-id" class="form-label">Namespace ID:</label>
                  <div class="input-group mb-3">
                    <input type="text" id="namespace-id" class="form-control" required>
                    <div class="input-group-append">
                      <button class="btn btn-primary" type="button" id="button-random" onclick="getRandomNamespaceId()">Get random</button>
                    </div>
                  </div>
                </div>
                <div class="mb-3">
                  <label for="data" class="form-label">Data:</label>
                  <div class="input-group mb-3">
                    <input type="text" id="data" class="form-control" aria-describedby="dataHelpBlock" oninput="showEncodeButton()" required>
                    <div class="input-group-append">
                      <button class="btn btn-primary" type="button" id="button-encode" onclick="hexEncodeData()">Hex encode</button>
                    </div>
                  </div>
                </div>
                <button type="submit" class="btn btn-primary" id="submitButton"><span id="submitMessage">Submit</span>
                    <span id="spinnerSubmit" class="hide">
                        <span id="spinner" class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                        Sending...
                    </span>
                </button>
            </form>
        </div>
        <div class="col-md-6">
            <h2>Retrieve</h2>
            <form id="retrieve-form" class="mb-5">
                <div class="mb-3">
                    <label for="retrieve-namespace-id" class="form-label">Namespace ID:</label>
                    <input type="text" id="retrieve-namespace-id" class="form-control" required>
                </div>
                <div class="mb-3">
                    <label for="blockheight" class="form-label">Blockheight:</label>
                    <input type="number" id="blockheight" class="form-control" required>
                </div>
                <button type="submit" class="btn btn-primary" id="retrieveButton"><span id="retrieveMessage">Retrieve</span>
                    <span id="spinnerRetrieve" class="hide">
                        <span id="spinner" class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                        Fetching...
                    </span>
                </button>
            </form>
        </div>
    </div>
    <div id="card-result" class="invisible card">
        <div class="card-header">
          Blob Retrieved
        </div>
        <div class="card-body">
          <blockquote class="blockquote mb-0">
            <p class="resultBlob" id="result"></p>
            <footer class="blockquote-footer resultBlob">Inserted on <cite title="Time" id="inserted-time"></cite></footer>
            <button type="submit" class="btn btn-primary resultBlob" id="decodeButton" onclick="decodeBlob()">Decode as text</button>
          </blockquote>
        </div>
    </div>
    <div class="modal fade" id="modalFail" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title">Request Failed!</h5>
            </div>
            <div class="modal-body">
              <p>Your request has failed, probably because you inserted invalid data, please retry with correct data.</p>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-danger" data-dismiss="modal" onclick="closeModalFail()">Close</button>
            </div>
          </div>
        </div>
    </div>
    <div class="modal fade" id="modalSuccess" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title">Tx broadcasted!</h5>
            </div>
            <div class="modal-body">
              <p id="modal-success"></p>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="closeModalSuccess()">Close</button>
            </div>
          </div>
        </div>
    </div>
    <script src="./scripts/app.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js"></script>
</body>
</html>

